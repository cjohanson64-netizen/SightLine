.ExerciseForm{background:#151f2d;border:1px solid #2b3a4f;border-radius:12px;padding:1rem;display:flex;flex-direction:column;gap:1rem;min-width:450px;max-height:56vh;overflow:auto;scrollbar-gutter:stable}.ExerciseForm h2{margin:0;font-size:1.1rem}.ExerciseForm-grid{display:grid;grid-template-columns:1fr;gap:.75rem}.ExerciseForm-chunks{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.75rem}.ExerciseForm-chunk{border:1px solid #30435c;border-radius:10px;padding:.7rem;background:#101a28;display:flex;flex-direction:column;gap:.6rem}.ExerciseForm-chunk>h3{margin:0;font-size:.95rem;color:#cbd9ea}.ExerciseForm-chunk--core,.ExerciseForm-chunk--illegal{min-width:320px}.ExerciseForm-chunk--phrase{min-width:530px}.ExerciseForm-row{display:flex;gap:.75rem;flex-wrap:wrap}.ExerciseForm-row label{flex:1 1 0;min-width:0}.ExerciseForm-row--four label{flex:1 1 0}.ExerciseForm-row--four{flex-wrap:nowrap}.ExerciseForm-row--two label{flex:1 1 180px}.ExerciseForm-row--two{flex-wrap:nowrap}.ExerciseForm-titleRow label:first-child{flex:2 1 0}.ExerciseForm-titleRow label:last-child{flex:1 1 0}.ExerciseForm-row--three label{flex:1 1 160px}.ExerciseForm label{display:flex;flex-direction:column;gap:.35rem;font-size:.92rem;color:#d7e3f2}.ExerciseForm-checkbox{flex-direction:row;align-items:center;gap:.45rem}.ExerciseForm input,.ExerciseForm select,.ExerciseForm button{border:1px solid #33455d;border-radius:8px;padding:.5rem .55rem;font-size:.92rem;background:#0f1724;color:#e6edf6;width:100%;min-width:0}.ExerciseForm-actions{display:flex;flex-wrap:wrap;gap:.55rem}.ExerciseForm-phraseBuilder{display:flex;flex-direction:column;gap:.65rem}.ExerciseForm-phraseHeader{display:flex;align-items:center;justify-content:space-between;gap:.75rem}.ExerciseForm-phraseHeader h3{margin:0;font-size:.98rem}.ExerciseForm-structurePreview{font-size:.85rem;color:#9eb3cc}.ExerciseForm-phraseCard{border:1px solid #30435c;border-radius:10px;padding:.65rem;background:#101a28;display:flex;flex-direction:row;gap:.55rem;align-items:center}.ExerciseForm-phraseTitle{font-size:.86rem;font-weight:600;color:#d7e3f2;min-width:4.6rem;text-align:center}.ExerciseForm-phraseCardRow{display:grid;grid-template-columns:minmax(4.3rem,.9fr) auto minmax(8.8rem,1.5fr) auto;gap:.55rem;align-items:end;width:100%}.ExerciseForm-phraseCardRow label{min-width:0}.ExerciseForm-primeField input[type=checkbox]{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:2.1rem;min-width:2.1rem;height:2.1rem;min-height:2.1rem;margin:0;align-self:stretch;justify-self:start;background:transparent;border:1px solid #d9e5f5;border-radius:8px;cursor:pointer;position:relative}.ExerciseForm-primeField input[type=checkbox]:checked{background:#4f79b7;border-color:#4f79b7}.ExerciseForm-primeField input[type=checkbox]:disabled{border-color:#5d6d83;cursor:not-allowed;opacity:.8}.ExerciseForm-phraseActions{display:flex;justify-content:flex-end;gap:.5rem}.ExerciseForm-constraintSection{border:1px solid #344a66;border-radius:8px;padding:.5rem;background:#0f1724;display:flex;flex-direction:column;gap:.45rem}.ExerciseForm-constraintSection h3{margin:0;font-size:.92rem;color:#cbd9ea}.ExerciseForm-toggleGrid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.45rem .65rem}.ExerciseForm-toggleGrid--degrees{grid-template-columns:repeat(7,minmax(0,1fr))}.ExerciseForm-toggleGrid--intervals{grid-template-columns:repeat(6,minmax(0,1fr))}.ExerciseForm-toggleItem{display:flex;flex-direction:row;align-items:center;gap:.4rem;color:#d7e3f2}.ExerciseForm-toggleItem input[type=checkbox]{width:1rem;min-width:1rem;height:1rem;min-height:1rem;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:1px solid #d9e5f5;border-radius:4px}.ExerciseForm-toggleItem input[type=checkbox]:checked{background:#4f79b7;border-color:#4f79b7}.ExerciseForm-toggleItem span{white-space:nowrap;font-size:.85rem}.ExerciseForm-toggleItem sup{font-size:.64em}.ExerciseForm-transitionRow{display:grid;grid-template-columns:1fr 1fr auto;gap:.55rem;align-items:end}.ExerciseForm-transitionList{display:flex;flex-direction:column;gap:.45rem}.ExerciseForm-transitionList p{margin:0;color:#9eb3cc;font-size:.86rem}.ExerciseForm-transitionItem{display:flex;justify-content:space-between;align-items:center;gap:.5rem;border:1px solid #344a66;border-radius:8px;padding:.4rem .5rem;background:#0f1724;color:#d7e3f2}.ExerciseForm-iconButton{width:2.1rem;min-width:2.1rem;max-width:2.1rem;padding:.45rem 0;font-weight:700;line-height:1}.ExerciseForm button{cursor:pointer;background:#1f2d42;transition:background .2s ease;flex:1 1 180px;min-width:0;white-space:normal}.ExerciseForm button:hover{background:#2b3d58}.AppThemeLight .ExerciseForm{background:#f2f6fc;border-color:#b5c3d6}.AppThemeLight .ExerciseForm h2,.AppThemeLight .ExerciseForm label,.AppThemeLight .ExerciseForm-chunk>h3,.AppThemeLight .ExerciseForm-phraseTitle,.AppThemeLight .ExerciseForm-phraseHeader h3{color:#1f2f44}.AppThemeLight .ExerciseForm-chunk,.AppThemeLight .ExerciseForm-phraseCard,.AppThemeLight .ExerciseForm-constraintSection,.AppThemeLight .ExerciseForm-transitionItem{background:#f8fbff;border-color:#c1cede;color:#1f2f44}.AppThemeLight .ExerciseForm input,.AppThemeLight .ExerciseForm select,.AppThemeLight .ExerciseForm button{background:#fff;color:#1f2f44;border-color:#9eb1c8}.AppThemeLight .ExerciseForm-structurePreview,.AppThemeLight .ExerciseForm-transitionList p{color:#516a89}@media (max-width: 960px){.ExerciseForm{max-height:none}.ExerciseForm-chunks{grid-template-columns:1fr}.ExerciseForm-chunk--core,.ExerciseForm-chunk--illegal,.ExerciseForm-chunk--phrase{min-width:0}.ExerciseForm-row--four{flex-direction:column}.ExerciseForm-row--two{flex-direction:row;flex-wrap:nowrap}.ExerciseForm-actions{flex-direction:column}}.NotationViewer{background:#151f2d;border:1px solid #2b3a4f;border-radius:12px;padding:1rem;min-height:420px;display:flex;flex-direction:column}.NotationViewer h2{margin:0 0 .75rem;font-size:1.1rem;color:#c8d5e6}.NotationViewer-controls{margin:0 0 .75rem}.NotationViewer-canvas{flex:1;overflow:auto;border:1px solid #2f3e56;border-radius:10px;padding:.75rem;background:#0b111a;display:flex;justify-content:center}.NotationViewer-canvas svg{filter:invert(.88) hue-rotate(180deg) brightness(.9) contrast(.86);display:block;margin:0 auto;width:100%!important;height:auto!important}.NotationViewer-error{color:#ff7f7f}.AppThemeLight .NotationViewer{background:#f2f6fc;border-color:#b5c3d6}.AppThemeLight .NotationViewer h2{color:#1f2f44}.AppThemeLight .NotationViewer-canvas{background:#fff;border-color:#9eb1c8}.AppThemeLight .NotationViewer-canvas svg{filter:none;color:#1f2f44}.AppThemeLight .NotationViewer-canvas svg text{fill:#1f2f44}.ErrorBanner{background:#2a1a1a;border:1px solid #7c2f2f;color:#f8d9d9;border-radius:10px;padding:.8rem .9rem;margin-bottom:.75rem}.ErrorBanner h3{margin:0 0 .35rem;font-size:.98rem}.ErrorBanner p{margin:0 0 .45rem;font-size:.9rem}.ErrorBanner ul{margin:0;padding-left:1.1rem}.ErrorBanner li{margin:.2rem 0;font-size:.86rem}:root{font-family:Avenir Next,Segoe UI,sans-serif;color:#e6edf6;background:radial-gradient(circle at top left,#18202f,#0f1622 55%,#0b111a)}*{box-sizing:border-box}body{margin:0;min-height:100vh;background:transparent;color:#e6edf6}.AppShell button{transition:filter .14s ease,transform .08s ease,box-shadow .12s ease,border-color .12s ease}.AppShell button:not(:disabled):hover{filter:brightness(1.16);border-color:#5c7396}.AppShell button:not(:disabled):active{transform:translateY(1px) scale(.99);filter:brightness(1.06);box-shadow:inset 0 1px 2px #00000059}#root{min-height:100vh}.AppShell{display:flex;flex-direction:column;min-height:100vh;gap:1rem;padding:1rem}.AppThemeDark{background:radial-gradient(circle at top left,#18202f,#0f1622 55%,#0b111a)}.AppThemeLight{background:radial-gradient(circle at top left,#f5f7fb,#edf1f7 60%,#e7edf6);color:#1d2a3b}.AppMain{display:flex;flex-direction:column;gap:1rem;flex:1}.AppHeader{display:flex;gap:20px;align-items:center}.AppHeader img{width:150px;border-radius:50%}.AppTitle{margin:0;font-size:2.2rem;font-weight:800;letter-spacing:.02em;line-height:1.1;color:#dfe9f7}.AppSubtitle{color:#6f88a7}.AppNotationPane{width:100%}.AppNotationHeader{display:flex;align-items:center}.AppTopRow{display:flex;gap:1rem;align-items:stretch}.AppTopRow .AppNotationPane{flex:1 1 auto;min-width:0}.AppMelodyPanel{flex:0 0 260px;align-self:stretch;background:#151f2d;border:1px solid #2b3a4f;border-radius:12px;padding:.8rem;display:flex;flex-direction:column;gap:.7rem}.AppMelodyPanel h3{margin:0;font-size:.98rem;color:#d7e3f2}.AppPanelButtons{display:flex;flex-direction:column;gap:.45rem}.AppPanelSpacer{height:1px;background:#2b3a4f;margin:.1rem 0 .2rem}.AppPanelButtonWide{width:100%;height:2.1rem;text-align:center;padding:0 .6rem;font-size:.88rem}.AppButtonLabelWithIcon{display:inline-flex;align-items:center;gap:.35rem}.AppButtonIconHelp{width:1rem;height:1rem;border-radius:999px;border:1px solid currentColor;display:inline-flex;align-items:center;justify-content:center;font-size:.72rem;line-height:1;opacity:.9}.AppHistoryControls{display:flex;align-items:center;gap:.5rem;margin:0 0 .7rem}.AppHistoryNav{display:inline-flex;align-items:center;gap:.5rem}.AppPlaybackControls{margin-left:auto;display:inline-flex;align-items:center;gap:.5rem}.AppPlaybackControlsPanel{margin-left:0;display:flex;flex-direction:column;align-items:stretch;gap:.5rem}.AppHistoryButton{min-width:2rem;height:2rem;border-radius:6px;border:1px solid #3a4b66;background:#172233;color:#e6edf6;cursor:pointer;font-size:1rem;display:inline-flex;align-items:center;justify-content:center;text-align:center}.AppHistoryButton:disabled{opacity:.4;cursor:not-allowed}.AppHistoryLabel{font-size:.88rem;color:#9fb0c9}.AppPlaybackField{display:inline-flex;align-items:center;gap:.35rem;justify-content:space-between}.AppPlaybackField input{width:64px;height:2rem;border-radius:6px;border:1px solid #3a4b66;background:#172233;color:#e6edf6;padding:0 .45rem;font-size:.86rem}.AppPlaybackField select{height:2rem;border-radius:6px;border:1px solid #3a4b66;background:#172233;color:#e6edf6;padding:0 .45rem;font-size:.86rem}.AppPlaybackField input:focus,.AppPlaybackField select:focus{outline:none;border-color:#5c7396}.AppRelaxationNotice{margin:0 0 .7rem;padding:.45rem .65rem;border:1px solid #866c2a;border-radius:8px;background:#3a2d11;color:#f2dc9d;font-size:.86rem}.AppThemeLight .AppTitle{color:#1f2f44}.AppThemeLight .AppHistoryLabel{color:#32455e}.AppThemeLight .AppHistoryButton,.AppThemeLight .AppPlaybackField input,.AppThemeLight .AppPlaybackField select{background:#f8fbff;color:#1f2f44;border-color:#9eb1c8}.AppThemeLight .AppHistoryButton:not(:disabled):hover,.AppThemeLight .AppPlaybackField input:focus,.AppThemeLight .AppPlaybackField select:focus{border-color:#6f88a7}.AppThemeLight .AppMelodyPanel{background:#f2f6fc;border-color:#b5c3d6}.AppThemeLight .AppMelodyPanel h3{color:#1f2f44}.AppThemeLight .AppPanelSpacer{background:#b5c3d6}.AppThemeLight .AppRelaxationNotice{background:#fff7df;border-color:#d8be73;color:#5a4514}.AppModalBackdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#080c1299;display:flex;align-items:center;justify-content:center;padding:1rem;z-index:1000}.AppModal{position:relative;width:min(560px,100%);max-height:calc(100vh - 2rem);overflow:auto;border-radius:12px;border:1px solid #33455f;background:#151f2d;color:#dfe9f7;padding:1rem;display:flex;flex-direction:column;gap:.8rem}.AppModalClose{position:absolute;top:.6rem;right:.6rem;width:1.9rem;height:1.9rem;border-radius:6px;border:1px solid #3a4b66;background:#172233;color:#e6edf6;font-size:1.2rem;line-height:1;cursor:pointer;display:inline-flex;align-items:center;justify-content:center}.AppModal h3{margin:0;font-size:1.05rem;padding-right:2.2rem}.AppModal ol{margin:0;padding-left:1.2rem;display:flex;flex-direction:column;gap:.35rem}.AppModal li{font-size:.92rem;line-height:1.35}.AppThemeLight .AppModal{background:#f8fbff;border-color:#b5c3d6;color:#1f2f44}.AppThemeLight .AppModalClose{background:#f8fbff;color:#1f2f44;border-color:#9eb1c8}.AppThemeLight .AppModalBackdrop{background:#1b263447}@media (max-width: 1050px){.AppTopRow{flex-direction:column}.AppMelodyPanel{width:100%;flex:0 0 auto}}
