:root {
  font-family: 'Avenir Next', 'Segoe UI', sans-serif;
  color: #e6edf6;
  background: radial-gradient(circle at top left, #18202f, #0f1622 55%, #0b111a);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
  background: transparent;
  color: #e6edf6;
}

.AppShell button {
  transition: filter 0.14s ease, transform 0.08s ease, box-shadow 0.12s ease, border-color 0.12s ease;
}

.AppShell button:not(:disabled):hover {
  filter: brightness(1.16);
  border-color: #5c7396;
}

.AppShell button:not(:disabled):active {
  transform: translateY(1px) scale(0.99);
  filter: brightness(1.06);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.35);
}

#root {
  min-height: 100vh;
}

.AppShell {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  gap: 1rem;
  padding: 1rem;
}

.AppThemeDark {
  background: radial-gradient(circle at top left, #18202f, #0f1622 55%, #0b111a);
}

.AppThemeLight {
  background: radial-gradient(circle at top left, #f5f7fb, #edf1f7 60%, #e7edf6);
  color: #1d2a3b;
}

.AppMain {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  flex: 1;
}

.AppHeader {
  display: flex;
  gap: 20px;
  align-items: center;
}

.AppHeader img {
  width: 150px;
  border-radius: 50%;
}

.AppTitle {
  margin: 0;
  font-size: 2.2rem;
  font-weight: 800;
  letter-spacing: 0.02em;
  line-height: 1.1;
  color: #dfe9f7;
}

.AppSubtitle {
  color:#6f88a7;
}

.AppNotationPane {
  width: 100%;
}

.AppNotationHeader {
  display: flex;
  align-items: center;
}

.AppTopRow {
  display: flex;
  gap: 1rem;
  align-items: stretch;
}

.AppTopRow .AppNotationPane {
  flex: 1 1 auto;
  min-width: 0;
}

.AppMelodyPanel {
  flex: 0 0 260px;
  align-self: stretch;
  background: #151f2d;
  border: 1px solid #2b3a4f;
  border-radius: 12px;
  padding: 0.8rem;
  display: flex;
  flex-direction: column;
  gap: 0.7rem;
}

.AppMelodyPanel h3 {
  margin: 0;
  font-size: 0.98rem;
  color: #d7e3f2;
}

.AppPanelButtons {
  display: flex;
  flex-direction: column;
  gap: 0.45rem;
}

.AppPanelSpacer {
  height: 1px;
  background: #2b3a4f;
  margin: 0.1rem 0 0.2rem;
}

.AppPanelButtonWide {
  width: 100%;
  height: 2.1rem;
  text-align: center;
  padding: 0 0.6rem;
  font-size: 0.88rem;
}

.AppButtonLabelWithIcon {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
}

.AppButtonIconHelp {
  width: 1rem;
  height: 1rem;
  border-radius: 999px;
  border: 1px solid currentColor;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 0.72rem;
  line-height: 1;
  opacity: 0.9;
}

.AppHistoryControls {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0 0.7rem;
}

.AppHistoryNav {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.AppPlaybackControls {
  margin-left: auto;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.AppPlaybackControlsPanel {
  margin-left: 0;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  gap: 0.5rem;
}

.AppHistoryButton {
  min-width: 2rem;
  height: 2rem;
  border-radius: 6px;
  border: 1px solid #3a4b66;
  background: #172233;
  color: #e6edf6;
  cursor: pointer;
  font-size: 1rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}

.AppHistoryButton:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

.AppHistoryLabel {
  font-size: 0.88rem;
  color: #9fb0c9;
}

.AppPlaybackField {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  justify-content: space-between;
}

.AppPlaybackField input {
  width: 64px;
  height: 2rem;
  border-radius: 6px;
  border: 1px solid #3a4b66;
  background: #172233;
  color: #e6edf6;
  padding: 0 0.45rem;
  font-size: 0.86rem;
}

.AppPlaybackField select {
  height: 2rem;
  border-radius: 6px;
  border: 1px solid #3a4b66;
  background: #172233;
  color: #e6edf6;
  padding: 0 0.45rem;
  font-size: 0.86rem;
}

.AppPlaybackField input:focus,
.AppPlaybackField select:focus {
  outline: none;
  border-color: #5c7396;
}

.AppRelaxationNotice {
  margin: 0 0 0.7rem;
  padding: 0.45rem 0.65rem;
  border: 1px solid #866c2a;
  border-radius: 8px;
  background: #3a2d11;
  color: #f2dc9d;
  font-size: 0.86rem;
}

.AppThemeLight .AppTitle {
  color: #1f2f44;
}

.AppThemeLight .AppHistoryLabel {
  color: #32455e;
}

.AppThemeLight .AppHistoryButton,
.AppThemeLight .AppPlaybackField input,
.AppThemeLight .AppPlaybackField select {
  background: #f8fbff;
  color: #1f2f44;
  border-color: #9eb1c8;
}

.AppThemeLight .AppHistoryButton:not(:disabled):hover,
.AppThemeLight .AppPlaybackField input:focus,
.AppThemeLight .AppPlaybackField select:focus {
  border-color: #6f88a7;
}

.AppThemeLight .AppMelodyPanel {
  background: #f2f6fc;
  border-color: #b5c3d6;
}

.AppThemeLight .AppMelodyPanel h3 {
  color: #1f2f44;
}

.AppThemeLight .AppPanelSpacer {
  background: #b5c3d6;
}

.AppThemeLight .AppRelaxationNotice {
  background: #fff7df;
  border-color: #d8be73;
  color: #5a4514;
}

.AppModalBackdrop {
  position: fixed;
  inset: 0;
  background: rgba(8, 12, 18, 0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1rem;
  z-index: 1000;
}

.AppModal {
  position: relative;
  width: min(560px, 100%);
  max-height: calc(100vh - 2rem);
  overflow: auto;
  border-radius: 12px;
  border: 1px solid #33455f;
  background: #151f2d;
  color: #dfe9f7;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
}

.AppModalClose {
  position: absolute;
  top: 0.6rem;
  right: 0.6rem;
  width: 1.9rem;
  height: 1.9rem;
  border-radius: 6px;
  border: 1px solid #3a4b66;
  background: #172233;
  color: #e6edf6;
  font-size: 1.2rem;
  line-height: 1;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.AppModal h3 {
  margin: 0;
  font-size: 1.05rem;
  padding-right: 2.2rem;
}

.AppModal ol {
  margin: 0;
  padding-left: 1.2rem;
  display: flex;
  flex-direction: column;
  gap: 0.35rem;
}

.AppModal li {
  font-size: 0.92rem;
  line-height: 1.35;
}

.AppThemeLight .AppModal {
  background: #f8fbff;
  border-color: #b5c3d6;
  color: #1f2f44;
}

.AppThemeLight .AppModalClose {
  background: #f8fbff;
  color: #1f2f44;
  border-color: #9eb1c8;
}

.AppThemeLight .AppModalBackdrop {
  background: rgba(27, 38, 52, 0.28);
}

@media (max-width: 1050px) {
  .AppTopRow {
    flex-direction: column;
  }

  .AppMelodyPanel {
    width: 100%;
    flex: 0 0 auto;
  }
}
